<!DOCTYPE html>
<html lang="vi">
<head>
		<!-- Basic -->
		<meta charset="utf-8">
    <meta name="keywords" content="Photo Gallery - Timeline">
    <meta name="description" content="Timeline - B·ªô s∆∞u t·∫≠p ·∫£nh">
    <meta name="author" content="Timeline">
			
		<!-- Page Title -->
    <title>Timeline</title>

		<!-- Mobile Meta -->
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

		<!-- Favicon -->
		<link href="img/leo.png" rel="icon" type="image/png">
		<link href="img/apple-touch-icon.png" rel="apple-touch-icon">

		<!-- Vendor CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css">

		<!-- Fonts CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
		<link href="https://fonts.googleapis.com/css?family=Raleway:200,300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">

    <!-- Custom CSS -->
    <style>
        :root {
            --primary-color: #e91e63;
            --secondary-color: #2c3e50;
            --text-color: #333;
            --light-bg: #f8f9fa;
            --gradient-primary: linear-gradient(45deg, #e91e63, #f06292);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
        }

        .custom-color {
            color: var(--primary-color);
        }

        /* Header Navigation */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .navbar.scrolled {
            background: rgba(255, 255, 255, 0.98);
        }

        .navbar-brand {
            font-family: 'Great Vibes', cursive;
            font-size: 2.2rem;
            font-weight: 400;
            color: var(--primary-color) !important;
        }

        .navbar-nav .nav-link {
            color: var(--text-color) !important;
            font-weight: 500;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .navbar-nav .nav-link:hover {
            color: var(--primary-color) !important;
            transform: translateY(-2px);
        }

        /* Header Slider */
        #slider {
            height: 100vh;
            background: var(--gradient-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .slider-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 1 !important;
            animation: slideShow 15s infinite;
            pointer-events: none;
        }

        @keyframes slideShow {
            0%, 20% { opacity: 0.7; }
            25%, 45% { opacity: 0.4; }
            50%, 70% { opacity: 0.7; }
            75%, 95% { opacity: 0.4; }
            100% { opacity: 0.7; }
        }

        .holder-caption {
            position: relative;
            z-index: 2;
            text-align: center;
            color: white;
        }

        .holder-caption h1 {
            font-size: 5rem;
            margin-bottom: 1rem;
            font-family: 'Great Vibes', cursive;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
            font-weight: 400;
        }

        .holder-caption h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            font-weight: 300;
            font-family: 'Dancing Script', cursive;
        }

        .holder-caption p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
        }

        /* Sections */
        section {
            padding: 80px 0;
        }

        .big-heading {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-family: 'Great Vibes', cursive;
            font-weight: 400;
        }

        .sub-heading {
            font-size: 1.1rem;
            color: #666;
            margin-bottom: 3rem;
        }

        .headline-hearth, .headline_1 {
            margin: 1rem 0;
            max-width: 150px;
            height: auto;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding: 2rem 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--gradient-primary);
            transform: translateX(-50%);
        }

        .timeline-item {
            margin-bottom: 3rem;
            position: relative;
        }

        .timeline-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            transition: all 0.3s ease;
        }

        .timeline-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .timeline-item:nth-child(odd) .timeline-content {
            margin-right: 55%;
        }

        .timeline-item:nth-child(even) .timeline-content {
            margin-left: 55%;
        }

        .timeline-date {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: var(--gradient-primary);
            color: white;
            padding: 0.7rem 1.2rem;
            border-radius: 25px;
            font-weight: bold;
            z-index: 3;
            box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
        }

        .timeline-item:nth-child(odd) .timeline-date {
            right: -3rem;
        }

        .timeline-item:nth-child(even) .timeline-date {
            left: -3rem;
        }

        /* Gallery Filters */
        .gallery-filters {
            text-align: center;
            margin-bottom: 3rem;
            padding: 0 15px;
        }

        .filter-btn {
            background: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 0.7rem 1.5rem;
            margin: 0.25rem;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gradient-primary);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .filter-btn:hover::before,
        .filter-btn.active::before {
            left: 0;
        }

        .filter-btn:hover,
        .filter-btn.active {
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
        }

        /* Masonry Gallery */
        .gallery-masonry {
            column-count: 4;
            column-gap: 1rem;
            margin-top: 2rem;
        }

        @media (max-width: 1200px) {
            .gallery-masonry {
                column-count: 3;
            }
        }

        @media (max-width: 768px) {
            .gallery-masonry {
                column-count: 2;
            }
        }

        @media (max-width: 480px) {
            .gallery-masonry {
                column-count: 1;
            }
        }

        .gallery-item {
            break-inside: avoid;
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.4s ease;
            display: inline-block;
            width: 100%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .gallery-item:hover {
            transform: scale(1.05) translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
        }

        .gallery-item img {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 15px;
            transition: all 0.4s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: all 0.4s ease;
            border-radius: 15px;
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        .gallery-overlay i {
            color: white;
            font-size: 2.5rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .gallery-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.9));
            color: white;
            padding: 1.5rem;
            opacity: 0;
            transition: all 0.4s ease;
            transform: translateY(100%);
        }

        .gallery-item:hover .gallery-info {
            opacity: 1;
            transform: translateY(0);
        }

        /* Empty year message */
        .empty-year-message {
            text-align: center;
            padding: 3rem;
            color: #666;
            font-style: italic;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 3rem 0 1rem 0;
            margin-top: 3rem;
        }

        .footer-content {
            text-align: center;
        }

        .footer-brand {
            font-family: 'Great Vibes', cursive;
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .footer-text {
            margin-bottom: 2rem;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .footer-social {
            margin-bottom: 2rem;
        }

        .footer-social a {
            color: white;
            font-size: 1.5rem;
            margin: 0 15px;
            transition: all 0.3s ease;
        }

        .footer-social a:hover {
            color: var(--primary-color);
            transform: translateY(-3px);
        }

        .footer-bottom {
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 1rem;
            margin-top: 2rem;
            opacity: 0.8;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .holder-caption h1 {
                font-size: 3rem;
            }
            
            .big-heading {
                font-size: 2.2rem;
            }
            
            .timeline::before {
                left: 1rem;
            }
            
            .timeline-item:nth-child(odd) .timeline-content,
            .timeline-item:nth-child(even) .timeline-content {
                margin-left: 3rem;
                margin-right: 0;
            }
            
            .timeline-item:nth-child(odd) .timeline-date,
            .timeline-item:nth-child(even) .timeline-date {
                left: -2.5rem;
                right: auto;
            }

            .filter-btn {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }
        }

        .hidden {
            display: none !important;
        }

        /* Stats Counter */
        .stats-counter {
            background: var(--light-bg);
            padding: 3rem 0;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-family: 'Dancing Script', cursive;
        }

        .stat-label {
            font-size: 1.1rem;
            color: var(--text-color);
        }

        /* Scroll to top button */
        .scroll-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 55px;
            height: 55px;
            font-size: 1.3rem;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(233, 30, 99, 0.3);
        }

        .scroll-to-top.show {
            opacity: 1;
        }

        .scroll-to-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4);
        }
    </style>
</head>

<body>
    <!-- Audio auto play loop, s·∫Ω b·∫≠t ti·∫øng khi user click/ch·∫°m -->
    <audio id="bg-music" src="media/Maroon 5 - Memories (Official Video) 4.mp3" autoplay loop muted></audio>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        function enableAudio() {
            var audio = document.getElementById('bg-music');
            audio.muted = false;
            audio.play();
            document.removeEventListener('click', enableAudio);
            document.removeEventListener('touchstart', enableAudio);
        }
        document.addEventListener('click', enableAudio);
        document.addEventListener('touchstart', enableAudio);
    });
    </script>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top">
				<div class="container">
            <a class="navbar-brand" href="#slider">
                <i class="fas fa-camera"></i> Timeline
					</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
						<span class="navbar-toggler-icon"></span>
					</button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
							<li class="nav-item">
								<a class="nav-link" href="#slider">Trang ch·ªß</a>
							</li>
							<li class="nav-item">
                        <a class="nav-link" href="#about">Gi·ªõi thi·ªáu</a>
							</li>
							<li class="nav-item">
                        <a class="nav-link" href="#timeline">Timeline</a>
							</li>
							<li class="nav-item">
                        <a class="nav-link" href="#gallery">Th∆∞ vi·ªán</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>

    <!-- Header Slider -->
    <section id="slider">
        <div class="slider-bg" id="sliderBg"></div>
        <div class="holder-caption">
			<div class="container">
				<div class="row">
                    <div class="col-lg-12">
                        <h1><span class="custom-color">T</span>imeline</h1>
                        <h2>M·ªói b∆∞·ªõc ƒëi tr√™n h√†nh tr√¨nh c·ªßa b·∫°n ƒë·ªÅu tr√¢n tr·ªçng</h2>
                        <p>Kh√°m ph√° nh·ªØng kho·∫£nh kh·∫Øc ƒë·∫πp t·ª´ nƒÉm 2016 ƒë·∫øn 2025</p>
                        <a href="#about" class="btn btn-outline-light btn-lg mt-3">
                            <i class="fas fa-arrow-down"></i> Kh√°m ph√°
                        </a>
						</div>
					</div>
				</div>
			</div>
		</section>

    <!-- About Section -->
    <section id="about">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 text-center">
						<div class="big-head-wrap">
                        <img class="headline-hearth" src="img/hearth_center.svg" alt="gallery-icon">
						</div>
                    <h2 class="big-heading">V·ªÅ <span class="custom-color">B·ªô S∆∞u T·∫≠p</span></h2>
						<img class="headline_1" src="img/headline_simple.svg" alt="">
                    <p class="sub-heading col-lg-8 offset-lg-2">
                        ƒê√¢y s·∫Ω l√† cu·ªën s·ªï ghi l·∫°i t·ª´ng kho·∫£nh kh·∫Øc, nh·ªØng ƒëi·ªÅu th√∫ v·ªã tr√™n h√†nh tr√¨nh c·ªßa em ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è
                    </p>
					</div>
				</div>
								</div>
    </section>

    <!-- Stats Section -->
    <section class="stats-counter">
        <div class="container">
					<div class="row">
                <div class="col-lg-3 col-md-6">
                    <div class="stat-item">
                        <div class="stat-number" id="totalPhotos">0</div>
                        <div class="stat-label">T·ªïng s·ªë ·∫£nh</div>
								</div>
							</div>
                <div class="col-lg-3 col-md-6">
                    <div class="stat-item">
                        <div class="stat-number" id="totalYears">0</div>
                        <div class="stat-label">S·ªë nƒÉm</div>
						</div>
						</div>
                <div class="col-lg-3 col-md-6">
                    <div class="stat-item">
                        <div class="stat-number" id="oldestYear">0</div>
                        <div class="stat-label">NƒÉm ƒë·∫ßu ti√™n</div>
					</div>
								</div>
                <div class="col-lg-3 col-md-6">
                    <div class="stat-item">
                        <div class="stat-number" id="newestYear">0</div>
                        <div class="stat-label">NƒÉm g·∫ßn nh·∫•t</div>
						</div>
					</div>
				</div>
			</div>
		</section>

    <!-- Timeline Section -->
    <section id="timeline">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 text-center">
						<div class="big-head-wrap">
							<img class="headline-hearth" src="img/headline_hearth.svg" alt="">
						</div>
                    <h2 class="big-heading">
                        <span class="custom-color">Timeline</span> Theo NƒÉm
                    </h2>
						<img class="headline_1" src="img/headline_simple.svg" alt="">
                    <p class="sub-heading col-lg-8 offset-lg-2">
                        Kh√°m ph√° h√†nh tr√¨nh th·ªùi gian qua nh·ªØng b·ª©c ·∫£nh ƒë∆∞·ª£c s·∫Øp x·∫øp theo t·ª´ng nƒÉm
                    </p>
				</div>
			</div>

            <div class="timeline" id="timelineContainer">
                <!-- Timeline items will be dynamically generated here -->
				</div>
			</div>
		</section>

    <!-- Gallery Section -->
    <section id="gallery">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 text-center">
						<div class="big-head-wrap">
							<img class="headline-hearth" src="img/headline_hearth.svg" alt="">
						</div>
                    <h2 class="big-heading">
                        <span class="custom-color">Th∆∞ Vi·ªán ·∫¢nh</span> Masonry
						</h2>
						<img class="headline_1" src="img/headline_simple.svg" alt="">
                    <p class="sub-heading col-lg-8 offset-lg-2">
                        L·ª±a ch·ªçn nƒÉm ƒë·ªÉ xem t·∫•t c·∫£ c√°c b·ª©c ·∫£nh trong kho·∫£ng th·ªùi gian ƒë√≥ v·ªõi layout masonry ƒë·∫πp m·∫Øt
                    </p>
					</div>
				</div>

            <div class="gallery-filters" id="galleryFilters">
                <button class="filter-btn active" data-year="all">T·∫•t c·∫£</button>
                <!-- Year filter buttons will be dynamically generated here -->
							</div>

            <div class="gallery-masonry" id="galleryMasonry">
                <!-- Gallery items will be dynamically generated here -->
							</div>

            <div class="empty-year-message" id="emptyMessage" style="display: none;">
                <i class="fas fa-images fa-3x mb-3" style="color: #ddd;"></i>
                <h4>Ch∆∞a c√≥ ·∫£nh cho nƒÉm n√†y</h4>
                <p>H√£y quay l·∫°i sau ƒë·ªÉ kh√°m ph√° nh·ªØng kho·∫£nh kh·∫Øc m·ªõi!</p>
				</div>
			</div>
		</section>

    <!-- Footer -->
    <footer class="footer">
			<div class="container">
            <div class="footer-content">
                <div class="footer-brand">Timeline</div>
                <div class="footer-text">
                    L∆∞u gi·ªØ l·∫°i nh·ªØng ƒëi·ªÅu th√∫ v·ªã tr√™n h√†nh tr√¨nh c·ªßa b·∫°n
						</div>
                <div class="footer-social">
                    <a href="#" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
                    <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" title="YouTube"><i class="fab fa-youtube"></i></a>
					</div>
                <div class="footer-bottom">
                    <p>&copy; 2025 By MS. All rights reserved.</p>
				</div>
								</div>
</div>
    </footer>

    <!-- Scroll to top button -->
    <button class="scroll-to-top" id="scrollToTop">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>

    <script>
        // Photo data structure
        let photoData = [];
        let yearStats = {};
        const ALL_YEARS = [2025, 2024, 2023, 2022, 2021, 2020, 2019, 2018, 2017, 2016];

        // Ch·ªâ ch·ª©a ƒë√∫ng c√°c file user li·ªát k√™
        const photoFiles = [
          "1-160525.jpg","10-100424.jpg","11-100424.jpg","110-221119.jpg","111-221119.jpg","112-221119.jpg","113-221119.jpg","114-221119.jpg","115-161119.jpg","116-091119.jpg","117-211019.jpg","118-271019.jpg","119-271019.jpg","12-270523.jpg","120-271019.jpg","121-280919.jpg","122-140919.jpg","123-050919.jpg","124-030619.jpg","125-210419.jpg","126-210419.jpg","127-210419.jpg","128-130419.jpg","129-130419.jpg","13-270523.jpg","130-130419.jpg","131-130419.jpg","132-130419.jpg","133-130419.jpg","134-130419.jpg","135-130419.jpg","136-130419.jpg","137-260319.jpg","138-260319.jpg","139-140319.jpg","14-270523.jpg","140-250219.jpg","141-100219.jpg","142-100219.jpg","143-100219.jpg","144-100219.jpg","145-070219.jpg","146-060119.jpg","147-281118.jpg","148-151118.jpg","149-041118.jpg","15-270523.jpg","150-301018.jpg","151-101018.jpg","152-29918.jpg","153-090918.jpg","154-050918.jpg","155-030918.jpg","156-200818.jpg","157-270718.jpg","158-290618.jpg","159-050618.jpg","16-270523.jpg","160-050618.jpg","161-050618.jpg","162-050618.jpg","163-050618.jpg","164-050618.jpg","165-220518.jpg","166-070418.jpg","167-260318.jpg","168-120218.jpg","169-010118.jpg","17-220123.jpg","170-291117.jpg","171-281117.jpg","172-241117.jpg","173-241117.jpg","174-241117.jpg","175-241117.jpg","176-241117.jpg","177-241117.jpg","178-201117.jpg","179-181117.jpg","18-221222.jpg","180-091117.jpg","181-091117.jpg","182-091117.jpg","183-091117.jpg","184-071117.jpg","185-281017.jpg","186-281017.jpg","187-281017.jpg","188-281017.jpg","189-281017.jpg","19-221222.jpg","190-111017.jpg","191-180917.jpg","192-210517.jpg","193-240417.jpg","194-240417.jpg","195-090417.jpg","196-171116.jpg","197-141116.jpg","198-141116.jpg","199-141116.jpg","2-150625.jpg","20-221222.jpg","200-141116.jpg","201-141116.jpg","202-141116.jpg","203-141116.jpg","204-141116.jpg","205-070916.jpg","206-21062019.jpg","207-210619.jpg","208-210619.jpg","209-210619.jpg","21-221222.jpg","210-210619.jpg","211-210619.jpg","22-221222.jpg","23-311022.jpg","25-070822.jpg","26-150722.jpg","27-010522.jpg","28-010522.jpg","29-040222.jpg","3-050625.jpg","30-200821.jpg","31-100321.jpg","32-160221.jpg","33-160221.jpg","34-120221.jpg","36-160320.jpg","37-051116.jpg","38-02062024.jpg","39-010224.jpg","4-010325.jpg","40-250124.jpg","41-200823.jpg","42-200823.jpg","43-060823.jpg","45-060823.jpg","46-260223.jpg","47-260223.jpg","48-220123.jpg","49-200822.jpg","5-290125.jpg","50-020522.jpg","51-240422.jpg","52-010222.jpg","53-271221.jpg","54-200821.jpg","55-040421.jpg","56-120221.jpg","57-120221.jpg","58-291120.jpg","6-140125.jpg","60-291120.jpg","61-291120.jpg","62-291120.jpg","63-291120.jpg","64-291120.jpg","65-291120.jpg","66-291120.jpg","67-291120.jpg","68-291120.jpg","69-251120.jpg","7-140924.jpg","70-121120.jpg","71-121120.jpg","72-260920.jpg","73-260920.jpg","74-070920.jpg","75-130620.jpg","76-130620.jpg","77-130620.jpg","78-130620.jpg","79-130620.jpg","8-100424.jpg","80-130620.jpg","81-240520.jpg","82-130420.jpg","83-230120.jpg","84-230120.jpg","85-230120.jpg","86-210120.jpg","87-200120.jpg","88-120120.jpg","89-221119.jpg","9-100424.jpg","90-221119.jpg","91-221119.jpg","92-221119.jpg","93-221119.jpg","94-221119.jpg","95-221119.jpg","96-221119.jpg","97-221119.jpg","98-221119.jpg","99-221119.jpg"
        ];

        // Initialize the gallery
        $(document).ready(function() {
            loadPhotoData();
            initializeSlider();
            initializeScrollEffects();
        });

        // Function to parse year from filename (e.g., "1-160525.jpg" -> 2025)
        function parseYearFromFilename(filename) {
            const match = filename.match(/(\d+)-\d*(\d{2})\.jpg$/);
            if (match) {
                const yearSuffix = parseInt(match[2]);
                // Assume years 00-30 are 2000s, 31-99 are 1900s
                return yearSuffix <= 30 ? 2000 + yearSuffix : 1900 + yearSuffix;
            }
            return null;
        }

        // Load and process photo data - COMPLETE LIST
        function loadPhotoData() {
            // Complete list of all photos in img directory
            // const photoFiles = [
            //     "211-210619.jpg", "210-210619.jpg", "209-210619.jpg", "208-210619.jpg", "207-210619.jpg",
            //     "206-21062019.jpg", "205-070916.jpg", "204-141116.jpg", "203-141116.jpg", "202-141116.jpg",
            //     "201-141116.jpg", "200-141116.jpg", "199-141116.jpg", "198-141116.jpg", "197-141116.jpg",
            //     "196-171116.jpg", "195-090417.jpg", "194-240417.jpg", "193-240417.jpg", "192-210517.jpg",
            //     "191-180917.jpg", "190-111017.jpg", "189-281017.jpg", "188-281017.jpg", "187-281017.jpg",
            //     "186-281017.jpg", "185-281017.jpg", "184-071117.jpg", "183-091117.jpg", "182-091117.jpg",
            //     "181-091117.jpg", "180-091117.jpg", "179-181117.jpg", "178-201117.jpg", "177-241117.jpg",
            //     "176-241117.jpg", "175-241117.jpg", "174-241117.jpg", "173-241117.jpg", "172-241117.jpg",
            //     "171-281117.jpg", "170-291117.jpg", "169-010118.jpg", "168-120218.jpg", "167-260318.jpg",
            //     "166-070418.jpg", "165-220518.jpg", "164-050618.jpg", "163-050618.jpg", "162-050618.jpg",
            //     "161-050618.jpg", "160-050618.jpg", "159-050618.jpg", "158-290618.jpg", "157-270718.jpg",
            //     "156-200818.jpg", "155-030918.jpg", "154-050918.jpg", "153-090918.jpg", "152-29918.jpg",
            //     "151-101018.jpg", "150-301018.jpg", "149-041118.jpg", "148-151118.jpg", "147-281118.jpg",
            //     "146-060119.jpg", "145-070219.jpg", "144-100219.jpg", "143-100219.jpg", "142-100219.jpg",
            //     "141-100219.jpg", "140-250219.jpg", "139-140319.jpg", "138-260319.jpg", "137-260319.jpg",
            //     "136-130419.jpg", "135-130419.jpg", "134-130419.jpg", "133-130419.jpg", "132-130419.jpg",
            //     "131-130419.jpg", "130-130419.jpg", "129-130419.jpg", "128-130419.jpg", "127-210419.jpg",
            //     "126-210419.jpg", "125-210419.jpg", "124-030619.jpg", "123-050919.jpg", "122-140919.jpg"
            // ];

            // Initialize yearStats for all years
            ALL_YEARS.forEach(year => {
                yearStats[year] = 0;
            });

            // Process each photo
            photoFiles.forEach(filename => {
                const year = parseYearFromFilename(filename);
                if (year && ALL_YEARS.includes(year)) {
                    photoData.push({
                        filename: filename,
                        year: year,
                        path: `img/${filename}`
                    });

                    yearStats[year]++;
                }
            });

            // Sort photos by year (newest first)
            photoData.sort((a, b) => b.year - a.year);

            updateStatistics();
            generateTimeline();
            generateGalleryFilters();
            generateGallery();
            initializeMagnificPopup();
        }

        // Update statistics
        function updateStatistics() {
            const yearsWithPhotos = Object.keys(yearStats).filter(year => yearStats[year] > 0).map(year => parseInt(year));
            const totalPhotos = photoData.length;
            const totalYears = yearsWithPhotos.length;
            const oldestYear = totalYears > 0 ? Math.min(...yearsWithPhotos) : 2016;
            const newestYear = totalYears > 0 ? Math.max(...yearsWithPhotos) : 2025;

            // Animate counters
            animateCounter('totalPhotos', totalPhotos);
            animateCounter('totalYears', ALL_YEARS.length); // Show total years available, not just with photos
            animateCounter('oldestYear', oldestYear);
            animateCounter('newestYear', newestYear);
        }

        // Animate counter numbers
        function animateCounter(elementId, targetValue) {
            const element = document.getElementById(elementId);
            let currentValue = 0;
            const increment = targetValue / 50;
            const timer = setInterval(() => {
                currentValue += increment;
                if (currentValue >= targetValue) {
                    currentValue = targetValue;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(currentValue);
            }, 30);
        }

        // Generate timeline
        function generateTimeline() {
            const container = document.getElementById('timelineContainer');
            
            let timelineHTML = '';
            ALL_YEARS.forEach(year => {
                const photoCount = yearStats[year] || 0;
                
                timelineHTML += `
                    <div class="timeline-item">
                        <div class="timeline-content">
                            <h3>NƒÉm ${year}</h3>
                            ${photoCount > 0 ? 
                                `<p>${photoCount} b·ª©c ·∫£nh ƒë∆∞·ª£c ch·ª•p trong nƒÉm n√†y</p>
                                 <p class="text-muted">Nh·ªØng kho·∫£nh kh·∫Øc ƒë√°ng nh·ªõ ƒë∆∞·ª£c ghi l·∫°i</p>
                                 <button class="btn btn-outline-danger btn-sm" onclick="filterGalleryByYear(${year})">
                                     <i class="fas fa-images"></i> Xem ·∫£nh nƒÉm ${year}
                                 </button>` :
                                `<p>Ch∆∞a c√≥ ·∫£nh n√†o trong nƒÉm n√†y</p>
                                 <p class="text-muted">H√£y quay l·∫°i ƒë·ªÉ kh√°m ph√° nh·ªØng kho·∫£nh kh·∫Øc m·ªõi</p>
                                 <button class="btn btn-outline-secondary btn-sm" disabled>
                                     <i class="fas fa-camera"></i> Ch∆∞a c√≥ ·∫£nh
                                 </button>`
                            }
                        </div>
                        <div class="timeline-date">${year}</div>
                    </div>
                `;
            });

            container.innerHTML = timelineHTML;
        }

        // Generate gallery filters - Include ALL years
        function generateGalleryFilters() {
            const container = document.getElementById('galleryFilters');

            let filtersHTML = '<button class="filter-btn active" data-year="all">T·∫•t c·∫£</button>';
            ALL_YEARS.forEach(year => {
                const photoCount = yearStats[year] || 0;
                filtersHTML += `
                    <button class="filter-btn ${photoCount === 0 ? 'disabled' : ''}" data-year="${year}">
                        ${year} ${photoCount > 0 ? `(${photoCount})` : '(0)'}
                    </button>
                `;
            });

            container.innerHTML = filtersHTML;

            // Add event listeners to filter buttons
            $('.filter-btn').click(function() {
                if ($(this).hasClass('disabled')) return;
                
                $('.filter-btn').removeClass('active');
                $(this).addClass('active');
                
                const year = $(this).data('year');
                if (year === 'all') {
                    $('.gallery-item').show();
                    $('#emptyMessage').hide();
                } else {
                    $('.gallery-item').hide();
                    const yearPhotos = $(`.gallery-item[data-year="${year}"]`);
                    if (yearPhotos.length > 0) {
                        yearPhotos.fadeIn(300);
                        $('#emptyMessage').hide();
                    } else {
                        $('#emptyMessage').show();
                    }
                }
            });
        }

        // Generate masonry gallery
        function generateGallery() {
            const container = document.getElementById('galleryMasonry');
            let galleryHTML = '';

            photoData.forEach(photo => {
                galleryHTML += `
                    <div class="gallery-item" data-year="${photo.year}">
                        <img src="${photo.path}" alt="Photo from ${photo.year}" loading="lazy">
                        <div class="gallery-overlay">
                            <i class="fas fa-search-plus"></i>
                        </div>
                        <div class="gallery-info">
                            <small><i class="fas fa-calendar"></i> NƒÉm ${photo.year}</small><br>
                            <small><i class="fas fa-image"></i> ${photo.filename}</small>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = galleryHTML;
        }

        // Filter gallery by year (called from timeline buttons)
        function filterGalleryByYear(year) {
            // Scroll to gallery section
            document.getElementById('gallery').scrollIntoView({ behavior: 'smooth' });
            
            // Update filter buttons
            $('.filter-btn').removeClass('active');
            $(`.filter-btn[data-year="${year}"]`).addClass('active');
            
            // Filter gallery items
            $('.gallery-item').hide();
            const yearPhotos = $(`.gallery-item[data-year="${year}"]`);
            if (yearPhotos.length > 0) {
                yearPhotos.fadeIn(300);
                $('#emptyMessage').hide();
            } else {
                $('#emptyMessage').show();
            }
        }

        // Initialize Magnific Popup for gallery
        function initializeMagnificPopup() {
            $('.gallery-masonry').magnificPopup({
                delegate: '.gallery-item',
                type: 'image',
                gallery: {
                    enabled: true,
                    navigateByImgClick: true,
                    preload: [0,1]
                },
                image: {
                    titleSrc: function(item) {
                        const year = item.el.attr('data-year');
                        const filename = item.el.find('.gallery-info small:last').text().replace('üñºÔ∏è ', '');
                        return `·∫¢nh ch·ª•p nƒÉm ${year} - ${filename}`;
                    }
                },
                callbacks: {
                    elementParse: function(item) {
                        item.src = item.el.find('img').attr('src');
                    }
                }
            });
        }

        // Initialize background slider
        function initializeSlider() {
            const sliderBg = document.getElementById('sliderBg');
            const sampleImages = [
                'img/8-100424.jpg',
                'img/9-100424.jpg',
                'img/10-100424.jpg'
            ];
            
            let currentImageIndex = 0;
            
            function changeBackground() {
                sliderBg.style.backgroundImage = `url('${sampleImages[currentImageIndex]}')`;
                currentImageIndex = (currentImageIndex + 1) % sampleImages.length;
            }
            
            // Initial background
            changeBackground();
            
            // Change background every 3 seconds
            setInterval(changeBackground, 3000);
        }

        // Initialize scroll effects
        function initializeScrollEffects() {
            // Navbar scroll effect
            $(window).scroll(function() {
                if ($(this).scrollTop() > 100) {
                    $('.navbar').addClass('scrolled');
                    $('#scrollToTop').addClass('show');
                } else {
                    $('.navbar').removeClass('scrolled');
                    $('#scrollToTop').removeClass('show');
                }
            });

            // Scroll to top
            $('#scrollToTop').click(function() {
                $('html, body').animate({scrollTop: 0}, 600);
            });

            // Smooth scrolling for nav links
            $('.navbar-nav a[href^="#"]').click(function() {
                const target = $(this.getAttribute('href'));
                if (target.length) {
                    $('html, body').animate({
                        scrollTop: target.offset().top - 70
                    }, 600);
                }
            });
        }
		</script>
</body>
</html> 